"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue");function h(t){return Object.prototype.toString.call(t).replace(new RegExp("(^[[a-z]+ )([A-Za-z]+)(])","g"),"$2").toLowerCase()}const y=Object.create(null);function H(t){return h(t)==="object"}function P(t){return h(t)==="function"}function T(t){return h(t)==="array"}function W(t){return h(t)==="symbol"}function q(t){return[0,void 0,null].includes(t)}y.isObject=H;y.isFunction=P;y.isArray=T;y.isSymbol=W;y.isFalse=q;h.prototype=y;const w=(t,o)=>{const m=t.__vccOpts||t;for(const[p,_]of o)m[p]=_;return m},X={},Y={viewBox:"0 0 1024 1024","aria-hidden":"true","aria-role":"button","aria-label":"\u653E\u5927",class:"svg"},K=e.createElementVNode("path",{d:"M919.264 905.984l-138.912-138.912C851.808 692.32 896 591.328 896 480c0-229.376-186.624-416-416-416S64 250.624 64 480s186.624 416 416 416c95.008 0 182.432-32.384 252.544-86.208l141.44 141.44a31.904 31.904 0 0 0 45.248 0 32 32 0 0 0 0.032-45.248zM128 480C128 285.92 285.92 128 480 128s352 157.92 352 352-157.92 352-352 352S128 674.08 128 480z"},null,-1),U=e.createElementVNode("path",{d:"M625.792 448H336a32 32 0 0 0 0 64h289.792a32 32 0 1 0 0-64z"},null,-1),G=[K,U];function J(t,o){return e.openBlock(),e.createElementBlock("svg",Y,G)}const Q=w(X,[["render",J]]);const ee={},te={viewBox:"0 0 1024 1024","aria-hidden":"true","aria-role":"button","aria-label":"\u653E\u5927",class:"svg"},oe=e.createElementVNode("path",{d:"M919.264 905.984l-138.912-138.912C851.808 692.32 896 591.328 896 480c0-229.376-186.624-416-416-416S64 250.624 64 480s186.624 416 416 416c95.008 0 182.432-32.384 252.544-86.208l141.44 141.44a31.904 31.904 0 0 0 45.248 0 32 32 0 0 0 0.032-45.248zM128 480C128 285.92 285.92 128 480 128s352 157.92 352 352-157.92 352-352 352S128 674.08 128 480z"},null,-1),le=e.createElementVNode("path",{d:"M625.792 448H512v-112a32 32 0 0 0-64 0V448h-112a32 32 0 0 0 0 64H448v112a32 32 0 1 0 64 0V512h113.792a32 32 0 1 0 0-64z"},null,-1),ne=[oe,le];function ae(t,o){return e.openBlock(),e.createElementBlock("svg",te,ne)}const se=w(ee,[["render",ae]]);const re={},ie={viewBox:"0 0 1024 1024","aria-hidden":"true","aria-role":"button","aria-label":"\u653E\u5927",class:"svg"},ce=e.createElementVNode("path",{d:"M559.78666667 512L853.33333333 218.45333333c13.65333333-13.65333333 13.65333333-34.13333333 0-47.78666666-13.65333333-13.65333333-34.13333333-13.65333333-47.78666666 0L512 464.21333333l-293.54666667-295.82222186c-13.65333333-13.65333333-34.13333333-13.65333333-47.78666666 0-13.65333333 13.65333333-13.65333333 34.13333333 0 47.78666666l293.54666666 295.82222187-295.82222186 293.54666667c-13.65333333 13.65333333-13.65333333 34.13333333 0 47.78666666 6.82666667 6.82666667 15.92888853 9.10222187 25.0311104 9.10222187s18.2044448-2.2755552 25.03111146-9.10222187L512 559.78666667 805.54666667 853.33333333c6.82666667 6.82666667 15.92888853 9.10222187 25.03111146 9.10222187s18.2044448-2.2755552 25.0311104-9.10222187c13.65333333-13.65333333 13.65333333-34.13333333 0-47.78666666L559.78666667 512z"},null,-1),ue=[ce];function de(t,o){return e.openBlock(),e.createElementBlock("svg",ie,ue)}const ve=w(re,[["render",de]]);const me={},pe={viewBox:"0 0 1024 1024","aria-hidden":"true","aria-role":"button","aria-label":"\u653E\u5927",class:"svg"},_e=e.createElementVNode("path",{d:"M881.6703206 269.97378253a437.96818845 437.96818845 0 0 0-719.14189984-11.18481067V200.37940505a24.44088298 24.44088298 0 0 0-48.93354667 0v144.15978193c0 4.40143053 1.44988327 8.28504534 3.46936176 11.85796975a24.3373191 24.3373191 0 0 0 12.16866016 12.53113128c12.47934934 5.38527881 26.77105186 0 32.31167525-12.37578668a389.70780089 389.70780089 0 0 1 356.25693276-231.2045345 389.70780089 389.70780089 0 0 1 389.75958282 389.75958282c0 214.94513422-174.86622932 389.81136475-389.75958282 389.81136353a389.08642251 389.08642251 0 0 1-383.7011437-320.99370902 24.44088298 24.44088298 0 1 0-48.1568237 8.59573332 437.96818845 437.96818845 0 0 0 431.8579674 361.33152236c241.92331261 0 438.69312948-196.82159882 438.69312948-438.74491019 0-87.82147675-25.89076502-172.58784237-74.8243129-245.13376712"},null,-1),fe=[_e];function we(t,o){return e.openBlock(),e.createElementBlock("svg",pe,fe)}const he=w(me,[["render",we]]);const ye={},ge={viewBox:"0 0 1024 1024","aria-hidden":"true","aria-role":"button","aria-label":"\u653E\u5927",class:"svg"},ke=e.createElementVNode("path",{d:"M924.39230934 564.14465897a24.3373191 24.3373191 0 0 0-28.37627972 19.78054519A389.08642251 389.08642251 0 0 1 512.2631052 904.91891318c-214.94513422 0-389.81136475-174.86622932-389.81136476-389.81136353a389.70780089 389.70780089 0 0 1 713.03168-217.94846342c12.63469394 18.69313305 23.76772267 38.68080355 32.98483557 59.3934151 5.48884268 12.32400475 19.88410785 17.91641008 32.25989333 12.32400475a24.02662992 24.02662992 0 0 0 12.22044088-12.42756741 24.07841185 24.07841185 0 0 0 3.5211449-11.90975169V200.37940505a24.49266369 24.49266369 0 0 0-48.93354666 0v58.46134754a437.86462459 437.86462459 0 0 0-719.14190105 11.13302994A436.51830518 436.51830518 0 0 0 73.56997572 515.10754965c0 241.92331261 196.82159882 438.69312948 438.69312948 438.69312947a437.96818845 437.96818845 0 0 0 431.90974813-361.27974164 24.49266369 24.49266369 0 0 0-19.78054399-28.37627851"},null,-1),Ce=[ke];function $e(t,o){return e.openBlock(),e.createElementBlock("svg",ge,Ce)}const Ee=w(ye,[["render",$e]]);const Be={},be={viewBox:"0 0 1024 1024","aria-hidden":"true","aria-role":"button","aria-label":"\u653E\u5927",class:"svg"},Ve=e.createElementVNode("path",{d:"M325.3196818 850.33221435c-9.66522217-9.66522217-10.23376465-24.62036133-1.58203125-33.81591797l290.82183838-290.84655761c12.48321533-11.84051513 12.43377685-14.93041992 1e-8-27.36419678L323.73765055 207.50842285C315.06119792 198.31286621 315.65445964 183.35772705 325.3196818 173.69250489c9.83825684-9.83825684 25.18890381-10.38208008 34.33502198-1.26068116l323.03100586 323.03100586c3.97979737 3.97979737 5.75958252 9.14611817 6.08093262 14.51019288l-1e-8 4.05395507c-0.34606934 5.36407471-2.1258545 10.53039551-6.08093261 14.51019287L359.65470378 851.59289551C350.50858561 860.6895752 335.1332194 860.14575195 325.3196818 850.33221435z"},null,-1),xe=[Ve];function Me(t,o){return e.openBlock(),e.createElementBlock("svg",be,xe)}const Ne=w(Be,[["render",Me]]);const ze=e.defineComponent({name:"FoxPreviewImage",components:{ZoomOut:Q,ZoomIn:se,RotateLeft:he,RotateRight:Ee,Close:ve,ArrowRight:Ne},props:{modelValue:{type:Boolean,default:!1},src:{type:[String,Array],required:!0},zIndex:{type:Number,default:9e3},initialIndex:{type:Number,default:0}},setup(t,{emit:o}){const m=e.ref(null);let p=e.ref(!1),_=e.ref(0),r=t.src&&t.src.length?e.ref(t.initialIndex):e.ref(0),i=e.ref(0),s=e.ref(1),c=e.ref(0),u=e.ref(0),d=e.ref(0),v=e.ref(0),n=e.ref([]),a=e.reactive({x:0,y:0});const f=()=>{p.value=t.modelValue},V=()=>{p.value=!1,o("update:modelValue",p.value)},x=l=>{if(_.value===1){const{x:g,y:$}=l,k=g-a.x,C=$-a.y;d.value=k+d.value-c.value,v.value=C+v.value-u.value,requestAnimationFrame(()=>{c.value=k,u.value=C})}},B=()=>{s.value>.5&&(s.value-=.1)},b=()=>{s.value<2&&(s.value+=.1)},M=l=>{requestAnimationFrame(()=>{(l.wheelDelta||l.detail*-40)>0?b():B()})},N=x,z=M,F=()=>{_.value=0,c.value=0,u.value=0},S=l=>{_.value=1,a={x:l.x,y:l.y}},I=()=>{i.value+=90},R=()=>{i.value-=90},L=()=>{const l=document.createElement("div"),g=document.createElement("div");l.appendChild(g),l.style.width="100px",l.style.height="50px",l.style.overflow="scroll",l.style.marginLeft="-100000px",document.body.appendChild(l);const $=g.offsetWidth,k=l.offsetWidth,C=setTimeout(()=>{document.body.removeChild(l),clearTimeout(C)},10);return k-$},O=()=>{const l=n.value.length||0;r.value>0?r.value--:r.value=l-1,i.value=0,s.value=1,d.value=0,v.value=0,a.x=0,a.y=0,c.value=0,u.value=0},A=()=>{const l=n.value.length||0;r.value<l-1?r.value++:r.value=0,i.value=0,s.value=1,d.value=0,v.value=0,a.x=0,a.y=0,c.value=0,u.value=0},D=e.computed(()=>parseFloat(s.value.toFixed(1))),Z=e.computed(()=>`${r.value+1}/${n.value.length}`);e.onMounted(()=>{f()});const j=l=>l.scrollHeight>window.innerHeight;return e.watchEffect(()=>{p.value=t.modelValue,t.modelValue?(m.value!==null&&m.value.focus(),j(document.body)&&(document.body.style.paddingRight=L()+"px",document.body.classList.add("fox-lock-window"))):(document.body.classList.remove("fox-lock-window"),document.body.style.paddingRight="0px")}),e.watchEffect(()=>{const l=h(t.src);l==="string"?(r.value=0,i.value=0,s.value=1,d.value=0,v.value=0,a.x=0,a.y=0,c.value=0,u.value=0,n.value=[t.src]):l==="array"&&(t.initialIndex>=0&&t.initialIndex<t.src.length?r.value=t.initialIndex:r.value=0,n.value=t.src,i.value=0,s.value=1,d.value=0,v.value=0,a.x=0,a.y=0,c.value=0,u.value=0,n.value=t.src)}),{refEl:m,flag:p,status:_,active:r,uri:n,scale:s,angle:i,x:d,y:v,handleMouseMove:N,handleMousewheel:z,close:V,prev:O,next:A,mouseup:F,mousedown:S,zoomOut:B,enlarge:b,anticlockwiseRotation:R,clockwiseRotation:I,getCurrScale:D,getCurrIndex:Z}}}),Fe=["src"],Se=["textContent"],Ie=["textContent"];function Re(t,o,m,p,_,r){const i=e.resolveComponent("Close"),s=e.resolveComponent("ArrowRight"),c=e.resolveComponent("ZoomOut"),u=e.resolveComponent("ZoomIn"),d=e.resolveComponent("RotateLeft"),v=e.resolveComponent("RotateRight");return e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(e.Transition,null,{default:e.withCtx(()=>[t.flag?(e.openBlock(),e.createElementBlock("div",{key:0,ref:"refEl",class:"owl-preview",style:e.normalizeStyle({"z-index":t.zIndex}),tabindex:"1",onKeyup:o[8]||(o[8]=e.withKeys(e.withModifiers((...n)=>t.close&&t.close(...n),["exact"]),["esc"]))},[e.createElementVNode("div",{class:"owl-preview-canvas",onMousewheel:o[3]||(o[3]=(...n)=>t.handleMousewheel&&t.handleMousewheel(...n)),onDOMMouseScroll:o[4]||(o[4]=(...n)=>t.handleMousewheel&&t.handleMousewheel(...n))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.uri,(n,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:a},[t.active===a?(e.openBlock(),e.createElementBlock("div",{key:0,onMousemove:o[0]||(o[0]=(...f)=>t.handleMouseMove&&t.handleMouseMove(...f)),onMouseup:o[1]||(o[1]=(...f)=>t.mouseup&&t.mouseup(...f)),onMousedown:o[2]||(o[2]=(...f)=>t.mousedown&&t.mousedown(...f)),style:e.normalizeStyle([{transform:`rotate(${t.angle}deg) scale(${t.scale}) translate(${t.x}px,${t.y}px)`},{display:"inline-block"}])},[e.createElementVNode("img",{class:"owl-preview-image",src:n,alt:"\u88AB\u62D6\u62FD\u7684\u56FE\u7247",draggable:"false"},null,8,Fe)],36)):e.createCommentVNode("",!0)],64))),128))],32),e.createElementVNode("div",{class:"owl-preview-close",style:e.normalizeStyle({"z-index":t.zIndex+1}),onClick:o[5]||(o[5]=(...n)=>t.close&&t.close(...n))},[e.createVNode(i)],4),t.uri&&t.uri.length>1?(e.openBlock(),e.createElementBlock("div",{key:0,class:"owl-preview-operate",style:e.normalizeStyle({"z-index":t.zIndex+1})},[e.createElementVNode("div",{class:"owl-preview-operate-item owl-preview-operate-item-left",onClick:o[6]||(o[6]=(...n)=>t.prev&&t.prev(...n))},[e.createVNode(s,{class:"owl-preview-operate-icon owl-preview-operate-icon-left"})]),e.createElementVNode("div",{class:"owl-preview-operate-item",onClick:o[7]||(o[7]=(...n)=>t.next&&t.next(...n))},[e.createVNode(s,{class:"owl-preview-operate-icon owl-preview-operate-icon"})])],4)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"owl-preview-utils",style:e.normalizeStyle({"z-index":t.zIndex+1})},[e.createVNode(c,{title:"\u7F29\u5C0F",class:"owl-preview-utils-item",onClick:t.zoomOut},null,8,["onClick"]),e.createVNode(u,{title:"\u653E\u5927",class:"owl-preview-utils-item",onClick:t.enlarge},null,8,["onClick"]),e.createElementVNode("div",{title:"\u7F29\u653E\u500D\u6570",tabindex:"-1",class:"owl-preview-utils-item owl-preview-utils-scale",textContent:e.toDisplayString(t.getCurrScale)},null,8,Se),t.uri&&t.uri.length>1?(e.openBlock(),e.createElementBlock("div",{key:0,title:"\u56FE\u7247\u4F4D\u7F6E",class:"owl-preview-utils-item owl-preview-utils-position",textContent:e.toDisplayString(t.getCurrIndex)},null,8,Ie)):e.createCommentVNode("",!0),e.createVNode(d,{title:"\u5DE6\u65CB\u8F6C",class:"owl-preview-utils-item",onClick:t.clockwiseRotation},null,8,["onClick"]),e.createVNode(v,{title:"\u53F3\u65CB\u8F6C",class:"owl-preview-utils-item",onClick:t.anticlockwiseRotation},null,8,["onClick"])],4)],36)):e.createCommentVNode("",!0)]),_:1})])}const E=w(ze,[["render",Re]]),Le=t=>{t.component(E.name,E)},Oe=E;exports.FoxPreviewImage=Oe;exports.default=Le;
